{"version":3,"sources":["../src/util.js"],"names":[],"mappings":"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","file":"util.js","sourcesContent":["function noop() {}\n\nexport function isInteger(num) {\n  return Number.isInteger(num)\n}\nexport function isObject(val) {\n  return Object.prototype.toString.call(val) === '[object Object]'\n}\n\nexport function isArray(val) {\n  return Object.prototype.toString.call(val) === '[object Array]'\n}\n\nexport function objectForeach(obj, callback) {\n  Object.keys(obj).forEach((prop) => {\n    callback(obj[prop], prop, obj)\n  })\n  return obj\n}\n\nexport function arrayMove(arr, oldIndex, newIndex) {\n  if (newIndex >= arr.length) {\n    let k = newIndex - arr.length\n    while ((k--) + 1) {\n      arr.push(undefined)\n    }\n  }\n  arr.splice(newIndex, 0, arr.splice(oldIndex, 1)[0])\n  return arr\n}\n\nconst arrPro = Array.prototype\nexport function normalizePath(...path) {\n  //path = isArray(path) ? path : [path]\n  path = arrPro.concat.apply(arrPro, path).join('/').split('/')\n  path = ['/', combingPathKey(path).join('/')].join('')\n  if (path !== '/') {\n    path += '/'\n  }\n  return path\n}\n\n/**\n * [walk description] 遍历一个对象, 提供入栈和出栈两个回调, 操作原对象\n * @param  {object} obj          [description]\n * @param  {[type]} descentionFn [description]\n * @param  {[type]} ascentionFn  [description]\n * @return {[type]}              [description]\n */\nexport function walk(obj = {}, descentionFn = noop, ascentionFn = noop) {\n  let path = []\n\n  function _walk(obj) {\n    objectForeach(obj, (val, key, raw) => {\n      path.push(key)\n      descentionFn(val, key, raw, {path: normalizePath(path)})\n      path.pop()\n      if (val instanceof Object) {\n        path.push(key)\n        _walk(val)\n        path.pop()\n        ascentionFn(val, key, raw, {path: normalizePath(path)})\n      }\n    })\n    return obj\n  }\n\n  return _walk(obj)\n}\n\nexport function indexOf(path) {\n  return path.split('/').filter(item => item).slice(-1)[0] - 0\n}\n\n/**\n * Combing path keys\n * @param  {Array} keys  ['','menu','id','','.']\n * @return {Array}       ['menu','id']\n */\nexport function combingPathKey(keys) {\n  // {empty}\n  while (~keys.indexOf('')) {\n    let _i = keys.indexOf('')\n    keys.splice(_i, 1)\n  }\n\n  // .\n  while (~keys.indexOf('.')) {\n    let _i = keys.indexOf('.')\n    keys.splice(_i, 1)\n  }\n\n  // ..\n  while (~keys.indexOf('..')) {\n    let _i = keys.indexOf('..')\n    keys[_i] = keys[_i - 1] = null\n    delete keys[_i]\n    delete keys[_i - 1]\n    keys.splice(_i, 1)\n    keys.splice(_i - 1, 1)\n  }\n\n  return keys\n}\n"]}